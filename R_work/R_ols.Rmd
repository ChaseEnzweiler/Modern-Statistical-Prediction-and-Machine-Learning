---
title: "OLS"
author: "Chase Enzweiler"
date: "9/25/2017"
output: html_document
---

# Ordinary Least Squares

your turn 1 page 4
```{r}
#use lm regress mpg on disp

reg1 <- lm(mpg ~ disp, data = mtcars)

#mean center the data

mean_cent_mtcar <- as.data.frame(scale(mtcars, scale = FALSE))

# rerun lm on mean centered data 

reg2 <- lm(mpg ~ disp, data = mean_cent_mtcar)

# recover intercept term of reg2 should be zero

reg2$coefficients

# now standardize

standard_mtcars <- as.data.frame(scale(mtcars, center = TRUE, scale = TRUE))

# run lm on the standardized data

reg3 <- lm(mpg ~ disp, data = standard_mtcars)

# from reg3 how would you recover unstandardized estimates



# exclude the intercept term

lm(mpg ~ disp - 1, data =  mtcars)
  
# find out how to use subset

lm(mpg~disp, am == 0, data = mtcars)

# what object class is regsum

regsum <- summary(reg1)

class(regsum)

# what does reg sum contain

#residuals, coefficient estimates, std error, t value, p value for estimates

# plot ggplot2

library(ggplot2)

ggplot(data = mtcars, aes(disp, mpg)) + geom_point() + geom_text(label = row.names(mtcars), nudge_x = 70) + geom_smooth(method = "lm")


# auxilliary plots

plot(reg1, which = 1)

plot(reg2, which = 2)

```